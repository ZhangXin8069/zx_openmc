from openmc import Source, Settings
from openmc.stats import Box

source = Source()
source.space = Box(
    (50, -10, -10),
    (70, 10, 10),
    only_fissionable=True,
)
settings = Settings()
settings.batches = 200
settings.inactive = 75
settings.particles = 16 * 625
# settings.run_mode = "eigenvalue"
# settings.keff_trigger = {"type": "std_dev", "threshold": 5e-4}
# settings.trigger_active = True
settings.trigger_max_batches = 200
settings.source = source

U_enrichment = 1.0
temperature = 293.15
composition_list = ["Th_232", "U_233", "O", "Fe", "Cr", "Mn", "W", "Pb"]
max_position = [3, 2, 3, 4, 4, 4, 4, 5]
correspond_density = [
    0,
    0,
    7.45e-3,
    6.35e-3,
    7.45e-3,
    1.27e-2,
    1.49e-2,
    1.49e-2,
    8.10e-3,
    8.87e-3,
    8.87e-3,
    6.63e-3,
    1.12e-3,
    1.06e-3,
    1.06e-3,
    8.00e-4,
    4.60e-5,
    5.10e-5,
    5.10e-5,
    3.80e-5,
    4.60e-5,
    5.10e-5,
    5.10e-5,
    3.80e-5,
    1.77e-2,
    1.56e-2,
    1.56e-2,
    2.41e-2,
    3.05e-2,
]

correspond_cell_material_number = [4, 4, 4, 4, 4, 3, 0, 1, 2, 3, 4, 4]
inside_number = [0, 0, 0, 1, 2, 2, 2, 3, 4, 2, 2, 5]
outside_number = [1, 1, 1, 2, 5, 5, 3, 4, 5, 5, 5, 6]
upside_Z_coordinate_number = [7, 4, 3, 7, 7, 6, 5, 5, 5, 2, 1, 7]
downside_Z_coordinate_number = [4, 3, 0, 0, 6, 5, 2, 2, 2, 1, 0, 0]
radius = [0, 10, 32.5, 82.5, 147.5, 162.5, 320]
Z_coordinate = [-320, -165, -75, -25, 25, 75, 165, 320]

empty_list = []

P_u_keff_set = {
    0.09: 0.8878,
    0.0902: 0.888,
    0.0904: 0.8904,
    0.0906: 0.8917,
    0.0908: 0.8936,
    0.091: 0.8933,
    0.0912: 0.8956,
    0.0914: 0.8976,
    0.0916: 0.8977,
    0.0918: 0.8997,
    0.092: 0.9013,
    0.0922: 0.9009,
    0.0924: 0.9028,
    0.0926: 0.9046,
    0.0928: 0.9057,
    0.093: 0.9079,
    0.0932: 0.9089,
    0.0934: 0.9104,
    0.0936: 0.9096,
    0.0938: 0.9121,
    0.094: 0.914,
    0.0942: 0.9159,
    0.0944: 0.9167,
    0.0946: 0.9178,
    0.0948: 0.9173,
    0.095: 0.9191,
    0.0952: 0.9205,
    0.0954: 0.9215,
    0.0956: 0.9231,
    0.0958: 0.9246,
    0.096: 0.9262,
    0.0962: 0.926,
    0.0964: 0.9285,
    0.0966: 0.9301,
    0.0968: 0.9308,
    0.097: 0.9319,
    0.0972: 0.9339,
    0.0974: 0.9347,
    0.0976: 0.9352,
    0.0978: 0.9374,
    0.098: 0.9386,
    0.0982: 0.9397,
    0.0984: 0.9393,
    0.0986: 0.9421,
    0.0988: 0.9442,
    0.099: 0.9446,
    0.0992: 0.9461,
    0.0994: 0.9476,
    0.0996: 0.9481,
    0.0998: 0.9496,
    0.1: 0.9506,
    0.1002: 0.9513,
    0.1004: 0.9523,
    0.1006: 0.9534,
    0.1008: 0.955,
    0.101: 0.9568,
    0.1012: 0.957,
    0.1014: 0.9606,
    0.1016: 0.9598,
    0.1018: 0.9609,
    0.102: 0.9624,
    0.1022: 0.9644,
    0.1024: 0.9651,
    0.1026: 0.9666,
    0.1028: 0.9672,
    0.103: 0.9685,
    0.1032: 0.9701,
    0.1034: 0.9713,
    0.1036: 0.9706,
    0.1038: 0.9729,
    0.104: 0.9742,
    0.1042: 0.9762,
    0.1044: 0.9766,
    0.1046: 0.9792,
    0.1048: 0.9788,
    0.105: 0.9796,
    0.1052: 0.9819,
    0.1054: 0.9817,
    0.1056: 0.9831,
    0.1058: 0.9853,
    0.106: 0.9851,
    0.1062: 0.9869,
    0.1064: 0.9879,
    0.1066: 0.989,
    0.1068: 0.991,
    0.107: 0.9914,
    0.1072: 0.9933,
    0.1074: 0.9948,
    0.1076: 0.9958,
    0.1078: 0.995,
    0.108: 0.9982,
    0.1082: 0.9981,
    0.1084: 0.9994,
    0.1086: 0.9994,
    0.1088: 1.0029,
    0.109: 1.0032,
    0.1092: 1.0036,
    0.1094: 1.0047,
    0.1096: 1.0053,
    0.1098: 1.0079,
    0.11: 1.0102,
    0.1102: 1.0093,
    0.1104: 1.0107,
    0.1106: 1.0118,
    0.1108: 1.014,
    0.111: 1.0152,
    0.1112: 1.0171,
    0.1114: 1.0162,
    0.1116: 1.0186,
    0.1118: 1.0195,
    0.112: 1.0203,
    0.1122: 1.0219,
    0.1124: 1.0207,
    0.1126: 1.0239,
    0.1128: 1.024,
    0.113: 1.0261,
    0.1132: 1.0271,
    0.1134: 1.0281,
    0.1136: 1.0293,
    0.1138: 1.03,
    0.114: 1.0302,
    0.1142: 1.0311,
    0.1144: 1.0338,
    0.1146: 1.0339,
    0.1148: 1.0355,
    0.115: 1.0375,
    0.1152: 1.0372,
    0.1154: 1.0389,
    0.1156: 1.0391,
    0.1158: 1.0404,
    0.116: 1.0413,
    0.1162: 1.0421,
    0.1164: 1.0442,
    0.1166: 1.045,
    0.1168: 1.0456,
    0.117: 1.048,
    0.1172: 1.0486,
    0.1174: 1.0486,
    0.1176: 1.05,
    0.1178: 1.0512,
    0.118: 1.0511,
    0.1182: 1.0526,
    0.1184: 1.0563,
    0.1186: 1.0549,
    0.1188: 1.0569,
    0.119: 1.0579,
    0.1192: 1.0594,
    0.1194: 1.0609,
    0.1196: 1.0623,
    0.1198: 1.0638,
    0.12: 1.0634,
}











# P_u_keff_set = {
#     round(i, 4): j
#     for i, j in zip(
#         list(P_u_keff_set0), [P_u_keff_set0[k] for k in list(P_u_keff_set0)]
#     )
# }